<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Fiesta en la casa de Alexa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stilo.css">
</head>

<body>

<!-- ðŸ”¥ OVERLAY -->
<div id="overlay">
  <h1>ðŸŽ‰ Toca para entrar a la fiesta ðŸŽ‰</h1>
  <button id="btn-entrar">Entrar ðŸ¥ƒ</button>
</div>

<!-- ðŸª© BOLA DISCO -->
<div id="bola-disco"></div>

<!-- ðŸŽ¶ MUSICA -->
<audio id="musica" loop>
    <source src="Audio/corre grea correElCherryScomRD.mp3" type="audio/mpeg">
</audio>

<header class="hero neon">
    <h1>ðŸŽ‰ Fiesta en la casa de Alexa ðŸŽ‰</h1>
    <p><strong>Fecha:</strong>Domingo 08 de Febrero, 2026</p>
    <img src="Img/alexa2.jpeg" alt="Fiesta principal">
    <p>MÃºsica, diversiÃ³n y buena vibra toda la noche y romoðŸ¥ƒ</p>
</header>

<section class="galeria reveal">
    <h2>Momentos</h2>
    <div class="imagenes">
        <img src="Img/ami1.jpeg">
        <img src="Img/ami2.jpeg">
        <img src="Img/ami3.jpeg">
        <img src="Img/ami4.jpeg">
    </div>
</section>

<section class="videos reveal">
    <h2>Loqueras</h2>
    <div class="videos-grid">

        <video src="Vid/vi1.mp4" controls playsinline preload="metadata" poster="Prewie/pw1.png"></video>
        <video src="Vid/vi2.mp4" controls playsinline preload="metadata" poster="Prewie/pw2.png"></video>
        <video src="Vid/vi3.mp4" controls playsinline preload="metadata" poster="Prewie/pw3.png"></video>
        <video src="Vid/vi4.mp4" controls playsinline preload="metadata" poster="Prewie/pw4.png"></video>
        <video src="Vid/vi5.mp4" controls playsinline preload="metadata" poster="Prewie/pw5.png"></video>
        <video src="Vid/vi6.mp4" controls playsinline preload="metadata" poster="Prewie/pw6.png"></video>
        <video src="Vid/vi7.mp4" controls playsinline preload="metadata" poster="Prewie/pw7.png"></video>
        <video src="Vid/vi8.mp4" controls playsinline preload="metadata" poster="Prewie/pw8.png"></video>
        <video src="Vid/vi9.mp4" controls playsinline preload="metadata" poster="Prewie/pw9.png"></video>
        <video src="Vid/vi10.mp4" controls playsinline preload="metadata" poster="Prewie/pw10.png"></video>

    </div>
</section>

<section class="info reveal neon">
    <h2>Â¿Te lo vas a perder mmg?</h2>
    <p>Una noche de locura, mÃºsica y mucho romoðŸ¥ƒ</p>
    <a class="boton disco" href="https://chat.whatsapp.com/LQS7OA4UcDqF4uhW4xHiRY?mode=gi_t" target="_blank">
        Asistir ðŸŽ‰
    </a>
</section>

<footer>
    Â© 2026 | Evento Privado
</footer>

<!-- ðŸŽ§ MODO DISCOTECA TOTAL -->
<script>
const overlay = document.getElementById("overlay");
const btnEntrar = document.getElementById("btn-entrar");
const bola = document.getElementById("bola-disco");
const videos = document.querySelectorAll("video");

let iniciado = false;

// ðŸŽµ AUDIO (compatible mÃ³vil)
const musica = new Audio("Audio/corre grea correElCherryScomRD.mp3");
musica.loop = true;

// ðŸŽ§ AudioContext + ritmo
let ctx, analyser, source, data;

function iniciarFiesta() {
  if (iniciado) return;
  iniciado = true;

  // ðŸ”¥ Crear AudioContext SOLO tras interacciÃ³n del usuario
  ctx = new (window.AudioContext || window.webkitAudioContext)();
  analyser = ctx.createAnalyser();
  analyser.fftSize = 256;
  data = new Uint8Array(analyser.frequencyBinCount);

  source = ctx.createMediaElementSource(musica);
  source.connect(analyser);
  analyser.connect(ctx.destination);

  ctx.resume();

  // â–¶ï¸ Reproducir mÃºsica (iPhone seguro)
  musica.play().catch(err => console.log(err));

  overlay.style.display = "none";
  document.body.classList.add("rave");
  bola.style.opacity = 1;

  lucesBeat();
}

// ðŸ’¡ LUCES AL RITMO REAL
function lucesBeat() {
  analyser.getByteFrequencyData(data);

  const intensidad = data.reduce((a, b) => a + b, 0) / data.length;

  document.body.style.boxShadow =
    `inset 0 0 ${intensidad}px rgba(255, 0, 255, 0.85)`;

  if (intensidad > 120) {
    document.body.classList.add("flash");
    setTimeout(() => document.body.classList.remove("flash"), 120);
    if (navigator.vibrate) navigator.vibrate([40, 30, 40]);
  }

  requestAnimationFrame(lucesBeat);
}

// ðŸ–±ï¸ðŸ“± Eventos seguros
btnEntrar.addEventListener("click", iniciarFiesta);
overlay.addEventListener("click", iniciarFiesta);
overlay.addEventListener("touchstart", iniciarFiesta);

// ðŸŽ¬ CONTROL MUSICA vs VIDEOS
videos.forEach(video => {
  video.addEventListener("play", () => {
    videos.forEach(v => { if (v !== video) v.pause(); });
    musica.pause();
  });

  video.addEventListener("pause", () => {
    if (iniciado) musica.play();
  });

  video.addEventListener("ended", () => {
    if (iniciado) musica.play();
  });
});
</script>


<!-- âœ¨ EFECTO SCROLL -->
<script>
const reveals = document.querySelectorAll('.reveal');
window.addEventListener('scroll', () => {
  reveals.forEach(r => {
    const top = r.getBoundingClientRect().top;
    if (top < window.innerHeight - 100) r.classList.add('active');
  });
});
</script>

</body>
</html>
